{"mappings":"A,I,E,W,E,C,E,E,C,E,E,E,iB,A,O,I,A,C,E,S,C,E,G,K,E,O,C,C,E,C,O,C,G,K,E,C,I,E,C,C,E,A,Q,C,C,E,C,I,E,C,G,E,Q,C,C,E,O,C,C,E,C,E,E,I,C,E,O,C,E,E,O,E,E,O,A,C,I,E,A,M,uB,E,I,O,E,I,C,mB,C,C,E,Q,C,S,C,C,C,E,C,C,E,C,C,E,E,iB,C,G,A,C,E,E,Q,A,E,Q,S,C,C,C,E,O,c,C,E,O,C,iB,C,I,I,E,I,K,E,W,C,E,a,C,C,GCAO,IAAM,EAAiB,mL,G,I,E,E,S,E,E,S,E,S,I,E,E,S,E,E,S,E,E,S,E,E,S,E,E,S,E,E,S,E,E,S,E,E,S,E,E,S,E,E,QCc9B,CAAA,OAAO,GAAG,CAAC,kBAAkB,CAAG,EAAA,cAAa,CAG7C,QAAQ,MAAM,CADK,AAAA,CAAA,EAAA,EAAA,GAAY,AAAZ,EAAc,cAGjC,IAAI,EAAc,EAElB,SAAS,EAAe,EAAQ,QAAQ,EACtC,MAAO,CACL,IAAI,EAAA,OAAI,CAAE,CACR,OAAQ,IAAI,EAAA,OAAK,CAAE,CACjB,MAAA,EACA,MAAO,CACT,EACF,GACD,AACH,CAEA,MAAM,EAAY,CAChB,IACA,EAAe,OAChB,CA2BY,EAAW,AAzBxB,SAAwB,CAAG,CAAE,CAAO,EAClC,IAAM,EAAS,IAAI,EAAA,OAAe,CAAE,CAClC,IAAA,EACA,aAAc,eACd,OAAQ,IAAI,EAAA,OAAE,AAChB,GACM,EAAS,CAAS,CAAC,EAAY,CAWrC,OAFA,EAAO,GAAG,CAAC,YAAa,CAAA,GACxB,EAAO,GAAG,CAAC,oBAAqB,GACzB,IAAI,EAAA,OAAc,CAAE,CACzB,OAAA,EACA,OAAQ,CAAC,OAAQ,QAAS,QAAS,QAAQ,CAC3C,QAAS,GACT,MAAO,CACT,EACF,EAGI,gFACA,GAQE,EAAO,IAAI,EAAA,OAAI,CAAE,CACrB,OAAQ,CACN,AARJ,WACE,IAAM,EAAS,IAAI,EAAA,OAAQ,CAE3B,OAAO,IAAI,EAAA,OAAQ,CAAE,CAAC,OAAA,CAAM,EAC9B,IAKI,EACD,CACD,OAAQ,MACR,KAAM,IAAI,EAAA,OAAG,AACf,GAEM,EAAO,IAAI,EAAA,OAAO,CAAE,CACxB,IAAK,CACP,GACA,WAAW,KACT,EAAK,UAAU,CAAC,CAAA,EAClB,GAIA,EAAK,OAAO,GAAG,GAAG,CAAC,CACjB,OAAqB,QACrB,QAAqB,QACtB,EAGD,SAAS,cAAc,CAAC,UAAU,gBAAgB,CAAC,QAAS,IAAM,EAAK,UAAU,CAAC,CAAC,EAAK,UAAU,KAClG,SAAS,cAAc,CAAC,UAAU,gBAAgB,CAAC,QAAS,KAC1D,EAAc,AAAC,CAAA,EAAc,CAAA,EAAK,EAClC,EAAS,QAAQ,CAAC,CAAS,CAAC,EAAY,CAC1C","sources":["<anon>","examples/_common.js","examples/mvt.js"],"sourcesContent":["\nfunction $parcel$export(e, n, v, s) {\n  Object.defineProperty(e, n, {get: v, set: s, enumerable: true, configurable: true});\n}\n\n      var $parcel$global = globalThis;\n    \nvar $parcel$modules = {};\nvar $parcel$inits = {};\n\nvar parcelRequire = $parcel$global[\"parcelRequire73bb\"];\n\nif (parcelRequire == null) {\n  parcelRequire = function(id) {\n    if (id in $parcel$modules) {\n      return $parcel$modules[id].exports;\n    }\n    if (id in $parcel$inits) {\n      var init = $parcel$inits[id];\n      delete $parcel$inits[id];\n      var module = {id: id, exports: {}};\n      $parcel$modules[id] = module;\n      init.call(module.exports, module, module.exports);\n      return module.exports;\n    }\n    var err = new Error(\"Cannot find module '\" + id + \"'\");\n    err.code = 'MODULE_NOT_FOUND';\n    throw err;\n  };\n\n  parcelRequire.register = function register(id, init) {\n    $parcel$inits[id] = init;\n  };\n\n  $parcel$global[\"parcelRequire73bb\"] = parcelRequire;\n}\n\nvar parcelRegister = parcelRequire.register;\nparcelRegister(\"bV0pP\", function(module, exports) {\n\n$parcel$export(module.exports, \"OLCS_ION_TOKEN\", () => $8ad5571f7dcc7a1a$export$97f9922ccba1277f);\nconst $8ad5571f7dcc7a1a$export$97f9922ccba1277f = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiI3ZWVhYmU0Mi1jNTZkLTQ3OGItYmUxYS00YTMyMDQyZTMwNDkiLCJpZCI6NjQ1LCJpYXQiOjE2MDYxMjE2OTF9.zQibbf5P0-moQ8KiV_K7KMtyLHbR-VlPghj8lyqWduU\";\n\n});\n\n\nvar $cc3xD = parcelRequire(\"cc3xD\");\n\nvar $5DwXE = parcelRequire(\"5DwXE\");\nparcelRequire(\"fXDXi\");\n\nvar $4mWlF = parcelRequire(\"4mWlF\");\n\nvar $dpRHA = parcelRequire(\"dpRHA\");\n\nvar $9DiKA = parcelRequire(\"9DiKA\");\n\nvar $3p15R = parcelRequire(\"3p15R\");\n\nvar $4IEkJ = parcelRequire(\"4IEkJ\");\n\nvar $2Jpez = parcelRequire(\"2Jpez\");\n\nvar $lrKvI = parcelRequire(\"lrKvI\");\n\nvar $c3RIb = parcelRequire(\"c3RIb\");\n\nvar $9jDAx = parcelRequire(\"9jDAx\");\n\nvar $bV0pP = parcelRequire(\"bV0pP\");\nCesium.Ion.defaultAccessToken = (0, $bV0pP.OLCS_ION_TOKEN);\nconst $7a958506415603f3$var$projection = (0, $dpRHA.get)(\"EPSG:3857\");\nconsole.assert($7a958506415603f3$var$projection);\nlet $7a958506415603f3$var$styleNumber = 0;\nfunction $7a958506415603f3$var$createMVTStyle(color = \"purple\") {\n    return [\n        new (0, $c3RIb.default)({\n            stroke: new (0, $lrKvI.default)({\n                color: color,\n                width: 4\n            })\n        })\n    ];\n}\nconst $7a958506415603f3$var$allStyles = [\n    $7a958506415603f3$var$createMVTStyle(),\n    $7a958506415603f3$var$createMVTStyle(\"red\")\n];\nfunction $7a958506415603f3$var$createMVTLayer(url, maxZoom) {\n    const source = new (0, $2Jpez.default)({\n        url: url,\n        attributions: \"Schweizmobil\",\n        format: new (0, $3p15R.default)()\n    });\n    const styles = $7a958506415603f3$var$allStyles[$7a958506415603f3$var$styleNumber];\n    // const swissExtentDegrees = [5.2, 45.45, 11, 48];\n    // source.set('olcs_provider', new MVTImageryProvider({\n    //   credit: new Cesium.Credit('Schweizmobil', false),\n    //   urls: [url],\n    //   styleFunction: () => styles,\n    //   rectangle: new Cesium.Rectangle(...swissExtentDegrees.map(Cesium.Math.toRadians)),\n    //   minimumLevel: 6,\n    // }));\n    source.set(\"olcs_skip\", false);\n    source.set(\"olcs_minimumLevel\", 6);\n    return new (0, $4IEkJ.default)({\n        source: source,\n        extent: [\n            572215,\n            5684416,\n            1277662,\n            6145307\n        ],\n        opacity: 0.6,\n        style: styles\n    });\n}\nconst $7a958506415603f3$export$b77f68ebb8e627a0 = $7a958506415603f3$var$createMVTLayer(\"https://map.schweizmobil.ch/api/4/mvt_routes/wander/3857/{z}/{x}/{y}.pbf?olcs\", 20);\nfunction $7a958506415603f3$var$createOSMLayer() {\n    const source = new (0, $9jDAx.default)();\n    //source.set('olcs_provider', new Cesium.OpenStreetMapImageryProvider());\n    return new (0, $4mWlF.default)({\n        source: source\n    });\n}\nconst $7a958506415603f3$var$ol2d = new (0, $5DwXE.default)({\n    layers: [\n        $7a958506415603f3$var$createOSMLayer(),\n        $7a958506415603f3$export$b77f68ebb8e627a0\n    ],\n    target: \"map\",\n    view: new (0, $9DiKA.default)()\n});\nconst $7a958506415603f3$var$ol3d = new (0, $cc3xD.default)({\n    map: $7a958506415603f3$var$ol2d\n});\nsetTimeout(()=>{\n    $7a958506415603f3$var$ol3d.setEnabled(true);\n});\nconst $7a958506415603f3$var$EXTENT = [\n    572215,\n    5684416,\n    1277662,\n    6145307\n];\nconst $7a958506415603f3$var$padding = -50000;\n$7a958506415603f3$var$ol2d.getView().fit([\n    $7a958506415603f3$var$EXTENT[0] - $7a958506415603f3$var$padding,\n    $7a958506415603f3$var$EXTENT[1] - $7a958506415603f3$var$padding,\n    $7a958506415603f3$var$EXTENT[2] + $7a958506415603f3$var$padding,\n    $7a958506415603f3$var$EXTENT[3] + $7a958506415603f3$var$padding\n]);\ndocument.getElementById(\"enable\").addEventListener(\"click\", ()=>$7a958506415603f3$var$ol3d.setEnabled(!$7a958506415603f3$var$ol3d.getEnabled()));\ndocument.getElementById(\"toggle\").addEventListener(\"click\", ()=>{\n    $7a958506415603f3$var$styleNumber = ($7a958506415603f3$var$styleNumber + 1) % 2;\n    $7a958506415603f3$export$b77f68ebb8e627a0.setStyle($7a958506415603f3$var$allStyles[$7a958506415603f3$var$styleNumber]);\n});\n\n\n//# sourceMappingURL=mvt.27a7bad5.js.map\n","export const OLCS_ION_TOKEN = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiI3ZWVhYmU0Mi1jNTZkLTQ3OGItYmUxYS00YTMyMDQyZTMwNDkiLCJpZCI6NjQ1LCJpYXQiOjE2MDYxMjE2OTF9.zQibbf5P0-moQ8KiV_K7KMtyLHbR-VlPghj8lyqWduU';\n","import OLCesium from 'olcs';\nimport olMap from 'ol/Map.js';\nimport './_proj21781.js';\nimport TileLayer from 'ol/layer/Tile.js';\nimport {get as getProjection} from 'ol/proj.js';\nimport View from 'ol/View.js';\nimport MVT from 'ol/format/MVT.js';\nimport VectorTileLayer from 'ol/layer/VectorTile.js';\nimport VectorTileSource from 'ol/source/VectorTile.js';\nimport Stroke from 'ol/style/Stroke.js';\nimport Style from 'ol/style/Style.js';\nimport OSMSource from 'ol/source/OSM.js';\nimport {OLCS_ION_TOKEN} from './_common.js';\n\nCesium.Ion.defaultAccessToken = OLCS_ION_TOKEN;\n\nconst projection = getProjection('EPSG:3857');\nconsole.assert(projection);\n\nlet styleNumber = 0;\n\nfunction createMVTStyle(color = 'purple') {\n  return [\n    new Style({\n      stroke: new Stroke({\n        color,\n        width: 4\n      })\n    })\n  ];\n}\n\nconst allStyles = [\n  createMVTStyle(),\n  createMVTStyle('red'),\n];\n\nfunction createMVTLayer(url, maxZoom) {\n  const source = new VectorTileSource({\n    url,\n    attributions: 'Schweizmobil',\n    format: new MVT(),\n  });\n  const styles = allStyles[styleNumber];\n  // const swissExtentDegrees = [5.2, 45.45, 11, 48];\n  // source.set('olcs_provider', new MVTImageryProvider({\n  //   credit: new Cesium.Credit('Schweizmobil', false),\n  //   urls: [url],\n  //   styleFunction: () => styles,\n  //   rectangle: new Cesium.Rectangle(...swissExtentDegrees.map(Cesium.Math.toRadians)),\n  //   minimumLevel: 6,\n  // }));\n  source.set('olcs_skip', false);\n  source.set('olcs_minimumLevel', 6);\n  return new VectorTileLayer({\n    source,\n    extent: [572215, 5684416, 1277662, 6145307], // swiss extent\n    opacity: 0.6,\n    style: styles\n  });\n}\n\nexport const mvtLayer = createMVTLayer(\n    'https://map.schweizmobil.ch/api/4/mvt_routes/wander/3857/{z}/{x}/{y}.pbf?olcs',\n    20);\n\nfunction createOSMLayer() {\n  const source = new OSMSource();\n  //source.set('olcs_provider', new Cesium.OpenStreetMapImageryProvider());\n  return new TileLayer({source});\n}\n\nconst ol2d = new olMap({\n  layers: [\n    createOSMLayer(),\n    mvtLayer\n  ],\n  target: 'map',\n  view: new View()\n});\n\nconst ol3d = new OLCesium({\n  map: ol2d,\n});\nsetTimeout(() => {\n  ol3d.setEnabled(true);\n});\n\nconst EXTENT = [572215, 5684416, 1277662, 6145307];\nconst padding = -50000;\nol2d.getView().fit([\n  EXTENT[0] - padding, EXTENT[1] - padding,\n  EXTENT[2] + padding, EXTENT[3] + padding,\n]);\n\n\ndocument.getElementById('enable').addEventListener('click', () => ol3d.setEnabled(!ol3d.getEnabled()));\ndocument.getElementById('toggle').addEventListener('click', () => {\n  styleNumber = (styleNumber + 1) % 2;\n  mvtLayer.setStyle(allStyles[styleNumber]);\n});\n"],"names":["$parcel$global","globalThis","$parcel$modules","$parcel$inits","parcelRequire","id","exports","init","module","call","err","Error","code","register","parcelRegister","Object","defineProperty","get","$8ad5571f7dcc7a1a$export$97f9922ccba1277f","set","s","enumerable","configurable","$cc3xD","$5DwXE","$4mWlF","$dpRHA","$9DiKA","$3p15R","$4IEkJ","$2Jpez","$lrKvI","$c3RIb","$9jDAx","$bV0pP","Cesium","Ion","defaultAccessToken","OLCS_ION_TOKEN","console","assert","$7a958506415603f3$var$styleNumber","$7a958506415603f3$var$createMVTStyle","color","default","stroke","width","$7a958506415603f3$var$allStyles","$7a958506415603f3$export$b77f68ebb8e627a0","$7a958506415603f3$var$createMVTLayer","url","maxZoom","source","attributions","format","styles","extent","opacity","style","$7a958506415603f3$var$ol2d","layers","$7a958506415603f3$var$createOSMLayer","target","view","$7a958506415603f3$var$ol3d","map","setTimeout","setEnabled","getView","fit","$7a958506415603f3$var$EXTENT","document","getElementById","addEventListener","getEnabled","setStyle"],"version":3,"file":"mvt.27a7bad5.js.map"}