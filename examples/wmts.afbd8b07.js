function e(e,t,i,r){Object.defineProperty(e,t,{get:i,set:r,enumerable:!0,configurable:!0})}var t=globalThis,i={},r={},s=t.parcelRequire73bb;null==s&&((s=function(e){if(e in i)return i[e].exports;if(e in r){var t=r[e];delete r[e];var s={id:e,exports:{}};return i[e]=s,t.call(s.exports,s,s.exports),s.exports}var n=Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}).register=function(e,t){r[e]=t},t.parcelRequire73bb=s);var n=s.register;n("238Tz",function(t,i){e(t.exports,"default",()=>a),e(t.exports,"createFromCapabilitiesMatrixSet",()=>l);var r=s("g5oyO"),n=s("dpRHA");class o extends r.default{constructor(e){super({extent:e.extent,origin:e.origin,origins:e.origins,resolutions:e.resolutions,tileSize:e.tileSize,tileSizes:e.tileSizes,sizes:e.sizes}),this.matrixIds_=e.matrixIds}getMatrixId(e){return this.matrixIds_[e]}getMatrixIds(){return this.matrixIds_}}var a=o;function l(e,t,i){let r=[],s=[],a=[],l=[],u=[];i=void 0!==i?i:[];let c="TileMatrix",d="Identifier",p="ScaleDenominator",h="TopLeftCorner",m=e.SupportedCRS,g=(0,n.get)(m),f=g.getMetersPerUnit(),x="ne"==g.getAxisOrientation().substr(0,2);return e[c].sort(function(e,t){return t[p]-e[p]}),e[c].forEach(function(t){if(!(i.length>0)||i.find(function(i){return t[d]==i[c]||!t[d].includes(":")&&e[d]+":"+t[d]===i[c]})){s.push(t[d]);let e=28e-5*t[p]/f,i=t.TileWidth,n=t.TileHeight;x?a.push([t[h][1],t[h][0]]):a.push(t[h]),r.push(e),l.push(i==n?i:[i,n]),u.push([t.MatrixWidth,t.MatrixHeight])}}),new o({extent:t,origins:a,resolutions:r,matrixIds:s,tileSizes:l,sizes:u})}}),n("bV0pP",function(t,i){e(t.exports,"OLCS_ION_TOKEN",()=>r);let r="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiI3ZWVhYmU0Mi1jNTZkLTQ3OGItYmUxYS00YTMyMDQyZTMwNDkiLCJpZCI6NjQ1LCJpYXQiOjE2MDYxMjE2OTF9.zQibbf5P0-moQ8KiV_K7KMtyLHbR-VlPghj8lyqWduU"});var o=s("cc3xD"),a=s("5DwXE"),l=s("9DiKA"),u=s("9pD6L"),c=s("4mWlF"),d=s("dpRHA"),p=s("9jDAx"),h=s("71uyY"),m=s("8jyNP"),u=s("9pD6L"),g=s("238Tz"),f=s("cwqvp"),d=s("dpRHA");class x extends h.default{constructor(e){let t=void 0!==e.requestEncoding?e.requestEncoding:"KVP",i=e.tileGrid,r=e.urls;void 0===r&&void 0!==e.url&&(r=(0,f.expandUrl)(e.url)),super({attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,interpolate:e.interpolate,projection:e.projection,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileClass:e.tileClass,tileGrid:i,tileLoadFunction:e.tileLoadFunction,tilePixelRatio:e.tilePixelRatio,urls:r,wrapX:void 0!==e.wrapX&&e.wrapX,transition:e.transition,zDirection:e.zDirection}),this.version_=void 0!==e.version?e.version:"1.0.0",this.format_=void 0!==e.format?e.format:"image/jpeg",this.dimensions_=void 0!==e.dimensions?e.dimensions:{},this.layer_=e.layer,this.matrixSet_=e.matrixSet,this.style_=e.style,this.requestEncoding_=t,this.setKey(this.getKeyForDimensions_()),r&&r.length>0&&(this.tileUrlFunction=(0,f.createFromTileUrlFunctions)(r.map(this.createFromWMTSTemplate.bind(this))))}setUrls(e){this.urls=e;let t=e.join("\n");this.setTileUrlFunction((0,f.createFromTileUrlFunctions)(e.map(this.createFromWMTSTemplate.bind(this))),t)}getDimensions(){return this.dimensions_}getFormat(){return this.format_}getLayer(){return this.layer_}getMatrixSet(){return this.matrixSet_}getRequestEncoding(){return this.requestEncoding_}getStyle(){return this.style_}getVersion(){return this.version_}getKeyForDimensions_(){let e=this.urls?this.urls.slice(0):[];for(let t in this.dimensions_)e.push(t+"-"+this.dimensions_[t]);return e.join("/")}updateDimensions(e){Object.assign(this.dimensions_,e),this.setKey(this.getKeyForDimensions_())}createFromWMTSTemplate(e){let t=this.requestEncoding_,i={layer:this.layer_,style:this.style_,tilematrixset:this.matrixSet_};"KVP"==t&&Object.assign(i,{Service:"WMTS",Request:"GetTile",Version:this.version_,Format:this.format_}),e="KVP"==t?(0,m.appendParams)(e,i):e.replace(/\{(\w+?)\}/g,function(e,t){return t.toLowerCase() in i?i[t.toLowerCase()]:e});let r=this.tileGrid,s=this.dimensions_;return function(i,n,o){if(!i)return;let a={TileMatrix:r.getMatrixId(i[0]),TileCol:i[1],TileRow:i[2]};Object.assign(a,s);let l=e;return"KVP"==t?(0,m.appendParams)(l,a):l.replace(/\{(\w+?)\}/g,function(e,t){return a[t]})}}}var g=s("238Tz"),T=s("bV0pP");Cesium.Ion.defaultAccessToken=T.OLCS_ION_TOKEN;const _=(0,d.get)("EPSG:3857"),y=_.getExtent(),b=(0,u.getWidth)(y)/256,v=Array(14),S=Array(14);for(let e=0;e<14;++e)v[e]=b/Math.pow(2,e),S[e]=e;const M=new a.default({layers:[new c.default({source:new p.default,opacity:.7}),new c.default({opacity:.7,source:new x({attributions:'Tiles Â© <a href="https://sampleserver6.arcgisonline.com/arcgis/rest/services/WorldTimeZones/MapServer/WMTS/">ArcGIS</a>',url:"https://sampleserver6.arcgisonline.com/arcgis/rest/services/WorldTimeZones/MapServer/WMTS/",layer:"WorldTimeZones",matrixSet:"GoogleMapsCompatible",format:"image/png",projection:_,tileGrid:new g.default({origin:(0,u.getTopLeft)(y),resolutions:v,matrixIds:S}),style:"default",wrapX:!0})})],target:"map",view:new l.default({center:[-11158582,4813697],zoom:4})}),w=new o.default({map:M}),I=w.getCesiumScene();Cesium.createWorldTerrainAsync().then(e=>I.terrainProvider=e),w.setEnabled(!0),document.getElementById("enable").addEventListener("click",()=>w.setEnabled(!w.getEnabled()));
//# sourceMappingURL=wmts.afbd8b07.js.map
